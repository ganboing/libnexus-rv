<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libnexus-rv: include/libnexus-rv/msg-decoder.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libnexus-rv
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_cd2e8cd127ba1f82cd00315a0f3636c1.html">libnexus-rv</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">msg-decoder.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="msg-types_8h_source.html">msg-types.h</a>&quot;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for msg-decoder.h:</div>
<div class="dyncontent">
<div class="center"><img src="msg-decoder_8h__incl.png" border="0" usemap="#ainclude_2libnexus-rv_2msg-decoder_8h" alt=""/></div>
<map name="ainclude_2libnexus-rv_2msg-decoder_8h" id="ainclude_2libnexus-rv_2msg-decoder_8h">
<area shape="rect" title=" " alt="" coords="191,5,337,47"/>
<area shape="rect" href="msg-types_8h.html" title=" " alt="" coords="89,95,191,121"/>
<area shape="rect" title=" " alt="" coords="5,169,80,196"/>
<area shape="rect" title=" " alt="" coords="200,169,283,196"/>
<area shape="rect" title=" " alt="" coords="267,95,333,121"/>
<area shape="rect" title=" " alt="" coords="358,95,429,121"/>
<area shape="rect" title=" " alt="" coords="453,95,528,121"/>
<area shape="rect" title=" " alt="" coords="105,169,175,196"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="msg-decoder_8h__dep__incl.png" border="0" usemap="#ainclude_2libnexus-rv_2msg-decoder_8hdep" alt=""/></div>
<map name="ainclude_2libnexus-rv_2msg-decoder_8hdep" id="ainclude_2libnexus-rv_2msg-decoder_8hdep">
<area shape="rect" title=" " alt="" coords="91,5,237,47"/>
<area shape="rect" href="msg-encoder_8h.html" title=" " alt="" coords="5,95,152,136"/>
<area shape="rect" href="trace-decoder_8h.html" title="Trace decoder usage model, events, and common error codes." alt="" coords="176,95,323,136"/>
</map>
</div>
</div>
<p><a href="msg-decoder_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnexusrv__hw__cfg.html">nexusrv_hw_cfg</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">NexusRV Message decoder configuration.  <a href="structnexusrv__hw__cfg.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnexusrv__msg__decoder.html">nexusrv_msg_decoder</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">NexusRV Message decoder context.  <a href="structnexusrv__msg__decoder.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2ccea32086ba3a1c20dfb83dc1150fe7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msg-decoder_8h.html#a2ccea32086ba3a1c20dfb83dc1150fe7">NEXUS_RV_MSG_MAX_BYTES</a>&#160;&#160;&#160;38</td></tr>
<tr class="separator:a2ccea32086ba3a1c20dfb83dc1150fe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a498874f8da64dc7ed1efbcf3c7198e56"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structnexusrv__hw__cfg.html">nexusrv_hw_cfg</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msg-decoder_8h.html#a498874f8da64dc7ed1efbcf3c7198e56">nexusrv_hw_cfg</a></td></tr>
<tr class="memdesc:a498874f8da64dc7ed1efbcf3c7198e56"><td class="mdescLeft">&#160;</td><td class="mdescRight">NexusRV Message decoder configuration.  <a href="msg-decoder_8h.html#a498874f8da64dc7ed1efbcf3c7198e56">More...</a><br /></td></tr>
<tr class="separator:a498874f8da64dc7ed1efbcf3c7198e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7df80e1c399908178e49e4a607aa0a2"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structnexusrv__msg__decoder.html">nexusrv_msg_decoder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msg-decoder_8h.html#ad7df80e1c399908178e49e4a607aa0a2">nexusrv_msg_decoder</a></td></tr>
<tr class="memdesc:ad7df80e1c399908178e49e4a607aa0a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">NexusRV Message decoder context.  <a href="msg-decoder_8h.html#ad7df80e1c399908178e49e4a607aa0a2">More...</a><br /></td></tr>
<tr class="separator:ad7df80e1c399908178e49e4a607aa0a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6ecfbe31779d7764718094630c3683f8"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msg-decoder_8h.html#a6ecfbe31779d7764718094630c3683f8">nexusrv_sync_forward</a> (const uint8_t *buffer, size_t limit)</td></tr>
<tr class="memdesc:a6ecfbe31779d7764718094630c3683f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sync forward for the first full Message.  <a href="msg-decoder_8h.html#a6ecfbe31779d7764718094630c3683f8">More...</a><br /></td></tr>
<tr class="separator:a6ecfbe31779d7764718094630c3683f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad29a398985eab78ca64b6ef950dbf7fb"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msg-decoder_8h.html#ad29a398985eab78ca64b6ef950dbf7fb">nexusrv_sync_backward</a> (const uint8_t *buffer, size_t pos)</td></tr>
<tr class="memdesc:ad29a398985eab78ca64b6ef950dbf7fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sync backward for the last full Message.  <a href="msg-decoder_8h.html#ad29a398985eab78ca64b6ef950dbf7fb">More...</a><br /></td></tr>
<tr class="separator:ad29a398985eab78ca64b6ef950dbf7fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f068dc8b104c3eca27a355e652f9298"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msg-decoder_8h.html#a2f068dc8b104c3eca27a355e652f9298">nexusrv_msg_decode</a> (const <a class="el" href="structnexusrv__hw__cfg.html">nexusrv_hw_cfg</a> *hwcfg, const uint8_t *buffer, size_t limit, <a class="el" href="structnexusrv__msg.html">nexusrv_msg</a> *msg)</td></tr>
<tr class="memdesc:a2f068dc8b104c3eca27a355e652f9298"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode the full NexusRV Message from <code>buffer</code> into <code>msg</code>.  <a href="msg-decoder_8h.html#a2f068dc8b104c3eca27a355e652f9298">More...</a><br /></td></tr>
<tr class="separator:a2f068dc8b104c3eca27a355e652f9298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97acfe06574b08a54426cc4114a9a356"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msg-decoder_8h.html#a97acfe06574b08a54426cc4114a9a356">nexusrv_msg_decoder_next</a> (<a class="el" href="structnexusrv__msg__decoder.html">nexusrv_msg_decoder</a> *decoder, <a class="el" href="structnexusrv__msg.html">nexusrv_msg</a> *msg)</td></tr>
<tr class="memdesc:a97acfe06574b08a54426cc4114a9a356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iteratively decode the next Nexus Message from trace file.  <a href="msg-decoder_8h.html#a97acfe06574b08a54426cc4114a9a356">More...</a><br /></td></tr>
<tr class="separator:a97acfe06574b08a54426cc4114a9a356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b784e37b159e641b80501d95329569"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msg-decoder_8h.html#a01b784e37b159e641b80501d95329569">nexusrv_msg_decoder_lastmsg</a> (<a class="el" href="structnexusrv__msg__decoder.html">nexusrv_msg_decoder</a> *decoder)</td></tr>
<tr class="memdesc:a01b784e37b159e641b80501d95329569"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the pointer to the last successfully decoded Message bytes.  <a href="msg-decoder_8h.html#a01b784e37b159e641b80501d95329569">More...</a><br /></td></tr>
<tr class="separator:a01b784e37b159e641b80501d95329569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b1073c8fd5588d92e5cceda2a669a72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msg-decoder_8h.html#a9b1073c8fd5588d92e5cceda2a669a72">nexusrv_msg_decoder_rewind_last</a> (<a class="el" href="structnexusrv__msg__decoder.html">nexusrv_msg_decoder</a> *decoder)</td></tr>
<tr class="memdesc:a9b1073c8fd5588d92e5cceda2a669a72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewind the decoder to the beginning of last Message.  <a href="msg-decoder_8h.html#a9b1073c8fd5588d92e5cceda2a669a72">More...</a><br /></td></tr>
<tr class="separator:a9b1073c8fd5588d92e5cceda2a669a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a532ecc4ec3e04baafe37869e92f13a84"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msg-decoder_8h.html#a532ecc4ec3e04baafe37869e92f13a84">nexusrv_print_msg</a> (FILE *fp, const <a class="el" href="structnexusrv__msg.html">nexusrv_msg</a> *msg)</td></tr>
<tr class="memdesc:a532ecc4ec3e04baafe37869e92f13a84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the <code>msg</code> in human readable form to <code>fp</code>.  <a href="msg-decoder_8h.html#a532ecc4ec3e04baafe37869e92f13a84">More...</a><br /></td></tr>
<tr class="separator:a532ecc4ec3e04baafe37869e92f13a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2ccea32086ba3a1c20dfb83dc1150fe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ccea32086ba3a1c20dfb83dc1150fe7">&#9670;&nbsp;</a></span>NEXUS_RV_MSG_MAX_BYTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NEXUS_RV_MSG_MAX_BYTES&#160;&#160;&#160;38</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum standard Message size in raw bytes </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a498874f8da64dc7ed1efbcf3c7198e56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a498874f8da64dc7ed1efbcf3c7198e56">&#9670;&nbsp;</a></span>nexusrv_hw_cfg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structnexusrv__hw__cfg.html">nexusrv_hw_cfg</a> <a class="el" href="structnexusrv__hw__cfg.html">nexusrv_hw_cfg</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NexusRV Message decoder configuration. </p>
<p>This should be set to match the HW implementation </p>

</div>
</div>
<a id="ad7df80e1c399908178e49e4a607aa0a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7df80e1c399908178e49e4a607aa0a2">&#9670;&nbsp;</a></span>nexusrv_msg_decoder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structnexusrv__msg__decoder.html">nexusrv_msg_decoder</a> <a class="el" href="structnexusrv__msg__decoder.html">nexusrv_msg_decoder</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NexusRV Message decoder context. </p>
<p>This should be initialized by nexusrv_msg_decoder_init before calling nexusrv_msg_next </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2f068dc8b104c3eca27a355e652f9298"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f068dc8b104c3eca27a355e652f9298">&#9670;&nbsp;</a></span>nexusrv_msg_decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t nexusrv_msg_decode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnexusrv__hw__cfg.html">nexusrv_hw_cfg</a> *&#160;</td>
          <td class="paramname"><em>hwcfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnexusrv__msg.html">nexusrv_msg</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode the full NexusRV Message from <code>buffer</code> into <code>msg</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hwcfg</td><td>Must match the HW implementation that produced the trace </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">buffer</td><td>The buffer that holds the Message </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">limit</td><td>Should be set to the number of bytes in <code>buffer</code> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">msg</td><td>Decoded Message</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;0</td><td>the number of bytes consumed (a positive integer) on a success decoding of <code>msg</code> </td></tr>
    <tr><td class="paramname">-nexus_stream_truncate</td><td>if more bytes are expected from <code>buffer</code> </td></tr>
    <tr><td class="paramname">-nexus_msg_invalid</td><td>if decoded <code>msg</code> is invalid </td></tr>
    <tr><td class="paramname">-nexus_msg_missing_field</td><td>if decoded <code>msg</code> has missing fields </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a01b784e37b159e641b80501d95329569"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b784e37b159e641b80501d95329569">&#9670;&nbsp;</a></span>nexusrv_msg_decoder_lastmsg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* nexusrv_msg_decoder_lastmsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnexusrv__msg__decoder.html">nexusrv_msg_decoder</a> *&#160;</td>
          <td class="paramname"><em>decoder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the pointer to the last successfully decoded Message bytes. </p>
<p>Returns the pointer to bytes of last Message. It must be called after a successful return of nexusrv_msg_decoder_next, otherwise it returns NULL</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">decoder</td><td>The same decoder used by nexusrv_msg_decoder_next </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the raw Message bytes </dd></dl>

</div>
</div>
<a id="a97acfe06574b08a54426cc4114a9a356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97acfe06574b08a54426cc4114a9a356">&#9670;&nbsp;</a></span>nexusrv_msg_decoder_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t nexusrv_msg_decoder_next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnexusrv__msg__decoder.html">nexusrv_msg_decoder</a> *&#160;</td>
          <td class="paramname"><em>decoder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnexusrv__msg.html">nexusrv_msg</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Iteratively decode the next Nexus Message from trace file. </p>
<p>It handles buffer fill and refill transparently, and caller is hence freed from dealing with -nexus_stream_truncate.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">decoder</td><td>Should be initialized by nexusrv_msg_decoder_init </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">msg</td><td>Decoded Message </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">==0</td><td>if no more Message to decode (EOF) </td></tr>
    <tr><td class="paramname">&gt;0</td><td>the number of bytes consumed (a positive integer) on a success decoding of <code>msg</code> (same as nexusrv_msg_decode) </td></tr>
    <tr><td class="paramname">-nexus_stream_truncate</td><td>if EOF is already reached, and there's a partial Message at the end. </td></tr>
    <tr><td class="paramname">-nexus_stream_read_failed</td><td>if read <code>decoder.fd</code> has failed, error can be retrieved from errno </td></tr>
    <tr><td class="paramname">-nexus_buffer_too_small</td><td>if the size of <code>decoder.buffer</code> is too small to fit a single Message </td></tr>
    <tr><td class="paramname">-nexus_msg_invalid</td><td>if decoded <code>msg</code> is invalid </td></tr>
    <tr><td class="paramname">-nexus_msg_missing_field</td><td>if decoded <code>msg</code> has missing fields </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9b1073c8fd5588d92e5cceda2a669a72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b1073c8fd5588d92e5cceda2a669a72">&#9670;&nbsp;</a></span>nexusrv_msg_decoder_rewind_last()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nexusrv_msg_decoder_rewind_last </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnexusrv__msg__decoder.html">nexusrv_msg_decoder</a> *&#160;</td>
          <td class="paramname"><em>decoder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rewind the decoder to the beginning of last Message. </p>
<p>Rewind the decoder to point to the beginning of last Message, so it can be decoded again. This effectively "returns" the Message to the decoder. It does nothing if there's no previous invocation of nexusrv_msg_decoder_next, or it has already been called for the previous nexusrv_msg_decoder_next.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">decoder</td><td>The same decoder used by nexusrv_msg_decoder_next </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a532ecc4ec3e04baafe37869e92f13a84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a532ecc4ec3e04baafe37869e92f13a84">&#9670;&nbsp;</a></span>nexusrv_print_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nexusrv_print_msg </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnexusrv__msg.html">nexusrv_msg</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the <code>msg</code> in human readable form to <code>fp</code>. </p>
<p>Returns the total number of bytes written on success (as printf does), Or, on failure, the same return code of the first failed fprintf. </p>

</div>
</div>
<a id="ad29a398985eab78ca64b6ef950dbf7fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad29a398985eab78ca64b6ef950dbf7fb">&#9670;&nbsp;</a></span>nexusrv_sync_backward()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t nexusrv_sync_backward </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sync backward for the last full Message. </p>
<p>It stops at the byte where the preceding byte has MSEO==3</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The buffer that holds Messages </td></tr>
    <tr><td class="paramname">pos</td><td>Should be set to the current position in <code>buffer</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;0</td><td>The position of the first full Message on success. The returned position can be equal to <code>pos</code>, which means the <code>buffer</code> contains a single Message, and we have just passed it. </td></tr>
    <tr><td class="paramname">-nexus_stream_truncate</td><td>If cannot find the beginning of the full Message in buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6ecfbe31779d7764718094630c3683f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ecfbe31779d7764718094630c3683f8">&#9670;&nbsp;</a></span>nexusrv_sync_forward()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t nexusrv_sync_forward </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sync forward for the first full Message. </p>
<p>It stops at the byte where the preceding byte has MSEO==3</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The buffer that holds Messages </td></tr>
    <tr><td class="paramname">limit</td><td>Should be set to the number of bytes in <code>buffer</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;0</td><td>The offset to the first full Message on success. The returned offset can be equal to <code>limit</code>, which means the <code>buffer</code> contains a single Message, and we have just passed it. </td></tr>
    <tr><td class="paramname">-nexus_stream_truncate</td><td>If cannot find the beginning of the full Message in buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
